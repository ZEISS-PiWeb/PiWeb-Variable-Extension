<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>tips | PiWeb Variable Extension API Reference</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.js" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">PiWeb Variable Extension API Reference</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../globals.html">Globals</a>
				</li>
				<li>
					<a href="tips.html">tips</a>
				</li>
			</ul>
			<h1>External module tips</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel tsd-comment">
				<div class="tsd-comment tsd-typography">
					<h1 id="tips-and-tricks">Tips and Tricks</h1>
					<h2 id="content">Content</h2>
					<ul>
						<li><a href="#startup-parameters">Startup parameters</a></li>
						<li><a href="#debugging">Debugging</a></li>
						<li><a href="#precompilation">Precompilation</a></li>
					</ul>
					<h2 id="startup-parameters">Startup parameters</h2>
					<p>PiWeb Designer can be started with additional command line arguments to enable or disable certain features related with plot extensions. You can view the effective values of all parameters in the PiWeb log file after startup.</p>
					<h3 id="-ext-execution-enabled-disabled-"><code>-ext-execution [enabled/disabled]</code></h3>
					<p>Determines whether or not to load extensions. By setting this parameter to disabled, extensions will not be loaded and displayed.</p>
					<p><em>default:</em> <code>enabled</code><br/>
					<em>example:</em> <code>-ext-execution disabled</code></p>
					<h3 id="-ext-fs-watch-enabled-disabled-"><code>-ext-fs-watch [enabled/disabled]</code></h3>
					<p>Extensions are loaded at startup time. By activating this flag, PiWeb Designer is going to monitor all extension source directories for changes. When any file changes, the appropriate extensions will be reloaded automatically. Report elements however are not automatically updated, since there is a separate flag named <code>-ext-auto-plot-update</code> for that. This parameter might help to avoid problems with remote file systems.</p>
					<p><em>default:</em> <code>enabled</code><br/>
					<em>example:</em> `-ext-fs-watch disabled</p>
					<h3 id="-ext-auto-plot-update-enabled-disabled-"><code>-ext-auto-plot-update [enabled/disabled]</code></h3>
					<p>While this flag is active, all changes on the source code of an extension will update its elements that are currently displayed in the report. This will only work, when the source path of the extension is the same as the one it has been created in. This means, that a report that is transferred from another machine, will probably not update itself.
					This option is by default disabled, to avoid unwanted updates of elements that are not in developement anymore.</p>
					<p><em>default:</em> <code>disabled</code><br/>
					<em>example:</em> <code>-ext-auto-plot-update enabled</code></p>
					<h3 id="-ext-sources-path1-path2-"><code>-ext-sources [path1] [path2] ...</code></h3>
					<p>By using this flag, you can add additional extension source directories to the three existing, hard wired source directories. The flag <code>-ext-fs-watch</code> will also monitor the additional directories. Relative paths specified here must be relative to the working directory of PiWeb, which is usually the installation directory. We recommend to specify absolute paths. This parameter was designed to develop extensions, that are located in a directory that is under source control.</p>
					<p><em>example:</em> <code>-ext-sources &quot;c:\git\piweb\extensions&quot; &quot;d:\extensions&quot;</code></p>
					<h3 id="-ext-development-mode-enabled-disabled-"><code>-ext-development-mode [enabled/disabled]</code></h3>
					<p>This flag activates the extension developing mode. It enables verbose logging of events that occur when a package is loaded, helpful error messages in the area of the extension element and in the log, as well as enabling the debug log messages, generated by your extension.
					This option also generates a new entry in the extensions context menu, which contains some useful features.</p>
					<p><em>default:</em> <code>disabled</code><br/>
					<em>example:</em> <code>-ext-development-mode enabled</code></p>
					<h3 id="-ext-debug-port-port"><code>-ext-debug-port &lt;Port&gt;</code></h3>
					<p>It&#39;s possible to debug your plot with an appropriate client, such as Visual Studio Code or Google Chrome. </p>
					<p><em>default:</em> <code>5858</code><br/>
					<em>example:</em> <code>-ext-debug-port 9000</code></p>
					<h2 id="debugging">Debugging</h2>
					<p>When PiWeb Designer is started with the parameter <code>-ext-development-mode</code>, it&#39;s possible to debug your extensions via the <code>inspect</code> protocol. The following sections show how to debug extensions with Visual Studio Code, but any application that supports the <code>inspect</code> protocol should work.</p>
					<h3 id="1-setting-up-visual-studio-code">1. Setting up Visual Studio Code</h3>
					<p>Set the launch parameters in VSCodes settings like the following. Please note, that the Debug port can be changed with the startup parameter <code>-ext-debug-port</code>. In any case, the configuration must match your configured port.</p>
					<pre><code class="lang-json">&quot;launch&quot;: {
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;Attach to PiWeb CustomPlot on port 5858&quot;,
            &quot;type&quot;: &quot;node&quot;,
            &quot;request&quot;: &quot;attach&quot;,
            &quot;protocol&quot;: &quot;inspector&quot;,
            &quot;address&quot;: &quot;localhost&quot;,
            &quot;port&quot;: 5858
        }
    ]
}
</code></pre>
					<h3 id="2-setting-up-piweb-designer">2. Setting up PiWeb Designer</h3>
					<p>In order to launch the debugger, PiWeb Designer must be up and running. Also, it&#39;s necessary to create a report that contains at least one plot extension.</p>
					<h3 id="3-connecting-piweb-designer">3. Connecting PiWeb Designer</h3>
					<p>In Visual Studio Code, start the Debugging by pressing <code>F5</code> <strong>or</strong> go to <code>Debug-&gt;Start Debugging</code>. After that, the Debugging Tab should show up. </p>
					<h3 id="4-debug">4. Debug</h3>
					<p>In the Debugging tab, you&#39;ll find the section &#39;Loaded scripts`, where you need to expand the first node. Under that node, you&#39;ll find the compiled sources of your extension, which you can open to add breakpoints. After you have added breakpoints, you need to trigger the code. You can do this by updating data in PiWeb Designer, or by moving the element to trigger a redraw.</p>
					<p><img src="../media/debugging.jpg" alt="alt text" title="debug console"></p>
					<h2 id="precompilation">Precompilation</h2>
					<p>Whenever your extension is loaded, PiWeb must compile the typescript sourcecode to javascript source code. With more and more extensions, this step consumes quite a lot of time. Even with only a single extension, the typescript compiler causes a significant lag every time the designer and monitor starts.
					To avoid this lag, you can skip the typescript compilation by adding precompiled sources to your extension.</p>
					<h3 id="1-adjust-package-json">1. Adjust <code>package.json</code></h3>
					<p>Remove the following snippet from your extensions <code>package.json</code> file:</p>
					<pre><code class="lang-json">&quot;piweb_actions&quot;: {
    &quot;load&quot;: &quot;compile_typescript&quot;
}
</code></pre>
					<h3 id="2-precompile">2. Precompile</h3>
					<p>Open a console in your packages root directory and run the command <code>tsc</code>. In case the command is unknown, you&#39;ll have to install typescript first. Your computer might need to restart after the installation, to add tsc to your path variable.</p>
				</div>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="../globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="index.html">Index</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="data.html">data</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="environment.html">environment</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="events.html">events</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="expressions.html">expressions</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="format.html">format</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="logger.html">logger</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="package.html">package</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="parameters.html">parameters</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="resources.html">resources</a>
					</li>
					<li class="current tsd-kind-external-module">
						<a href="tips.html">tips</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="../assets/js/search.js"><' + '/script>');</script>
</body>
</html>